- 存储引擎-MySQL体系结构

  ![image-20251025134717679](C:\Users\46814\AppData\Roaming\Typora\typora-user-images\image-20251025134717679.png)

- 存储引擎-简介

  - 存储引擎就是存储数据、建立索引、更新/查询数据等技术的实现方式。存储引擎是基于表的，而不是基于库的，所以存储引擎也可以被称为表类型。

  - 建表语句

    ```
    create table 表名(
    	字段1 字段1类型[comment 字段1注释],
    	字段2 字段2类型[comment 字段2注释],
    	字段3 字段3类型[comment 字段3注释],
    	......
    	字段n 字段n类型[comment 字段n注释]
    )engine = innodb [comment 表注释]；
    ```

  - 查数据库支持哪些存储引擎

    ```
    show engines;
    ```

- 存储引擎-innoDB介绍。

  - 介绍

    innoDB是一种兼顾高可靠性和高性能的通用存储引擎，在 MySQL 5.5 之后，InnoDB 是默认的 MySQL 存储引擎。

  - 特点

    1.DML 操作遵循 ACID 模型，支持**事务**；

    2.**行级锁**，提高并发访问性能；

    3.支持**外键**FOREIGN KEY 约束，保证数据的完整性和正确性；

  - 文件

    xxx.ibd: xxx 代表的是表名，innoDB 引擎的每张表都会对应这样一个表空间文件，存储该表的表结构（frm、sdi）、数据和索引。（ibd2sdi ibd文件）

  - 逻辑存储结构

    ![image-20251025142440026](C:\Users\46814\AppData\Roaming\Typora\typora-user-images\image-20251025142440026.png)

- 存储引擎-MyISAM和Memory

  - MyISAM

    ```
    介绍
    MyISAM 是 MySQL 早期的默认存储引擎。
    特点
    不支持事务，不支持外键
    支持表锁，不支持行锁
    访问速度快
    文件
    xxx.sdi：存储表结构信息
    xxx.MYD：存储数据
    xxx.MYI：存储索引
    ```

  - Memory

    ```
    介绍
    Memory 引擎的表数据是存储在内存中的，由于受到硬件问题、或断电问题的影响，只能将这些表作为临时表或缓存使用。
    特点
    内存存放
    hash 索引（默认）
    文件
    xxx.sdi：存储表结构信息
    ```

- 存储引擎-选择

  ```
  InnoDB：是 Mysql 的默认存储引擎，支持事务、外键。如果应用对事务的完整性有比较高的要求，在并发条件下要求数据的一致性，数据操作除了插入和查询之外，还包含很多的更新、删除操作，那么 InnoDB 存储引擎是比较合适的选择。
  MyISAM：如果应用是以读操作和插入操作为主，只有很少的更新和删除操作，并且对事务的完整性、并发性要求不是很高，那么选择这个存储引擎是非常合适的。
  MEMORY：将所有数据保存在内存中，访问速度快，通常用于临时表及缓存。MEMORY 的缺陷就是对表的大小有限制，太大的表无法缓存在内存中，而且无法保障数据的安全性。
  ```

  